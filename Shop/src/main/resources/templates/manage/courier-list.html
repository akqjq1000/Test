<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Member Test</title>
    <style>
        form input {
            display: block;
        }
        #list input {
            display: inline-block;
        }
        form {
            display: none;
        }
    </style>
</head>
<body>
<input type="button" onclick="insertForm()" value="추가하기">
<h2 id="title">추가하기</h2>
<form id="updateForm" action="/manager/update" method="post">
    <input type="hidden" name="menu" value="courier">
    <input type="text" name="name" placeholder="name">
    <input type="text" name="phone" placeholder="phone">
    <select name="courier">
        <option value="한진택배">한진택배</option>
        <option value="CJ택배">CJ택배</option>
        <option value="우체국택배">우체국택배</option>
        <option value="로젠택배">로젠택배</option>
    </select>
    <input type="submit" value="수정하기">
</form>
<form id="insertForm" action="/manager/create" method="post">
    <input type="hidden" name="menu" value="courier">
    <input type="text" name="name" placeholder="name">
    <input type="text" name="phone" placeholder="phone">
    <select name="courier">
        <option value="한진택배">한진택배</option>
        <option value="CJ택배">CJ택배</option>
        <option value="우체국택배">우체국택배</option>
        <option value="로젠택배">로젠택배</option>
    </select>
    <input type="submit" value="추가하기">
</form>
<table>
    <thead>
    <tr>
        <th>번호</th>
        <th>배송기사 이름</th>
        <th>배송기사 연락처</th>
        <th>배송사</th>
        <th>수정/삭제</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="courier : ${dataContainer.courierList}">
        <td th:text="${courier.id}"></td>
        <td th:text="${courier.name}"></td>
        <td th:text="${courier.phone}"></td>
        <td th:text="${courier.courier}"></td>
        <td>
            <input type="button" th:onclick="'updateData('+${courier.id}+');'" value="수정"> /
            <input type="button" th:onclick="'deleteData('+${courier.id}+');'" value="삭제">
        </td>
    </tr>
    </tbody>
</table>
<input type="button" value="목록으로" onclick="location.href='/manager/'">
<script>

    function insertForm() {
        document.getElementById('insertForm').style.display = 'block';
        document.getElementById('updateForm').style.display = 'none';
    }
    function updateData(optId) {
        document.getElementsByName('id')[0].value = optId;
        document.getElementsByName('name')[0].value = document.getElementById('opt'+optId).innerText;

        document.getElementById('insertForm').style.display = 'none';
        document.getElementById('updateForm').style.display = 'block';
    }

    function deleteData(optId) {
        let yesno = confirm('삭제하시겠습니까?');
        if (yesno) {
            location.href='/manager/delete?menu=coupon&' + 'id='+optId;
        } else {

        }
    }
</script>
</body>
</html>